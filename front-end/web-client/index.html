<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">

    <title>Hello, world!</title>
  </head>
  <body>
	<div class="container">
		<br/><br/><br/>
		<h1>Test login service</h1>
	
		<form id="login-form">
		  <div class="form-group">
			<label for="inputUsername1">Username</label>
			<input type="text" class="form-control" id="inputUsername1" name="username"  placeholder="Username">

		  </div>
		  <div class="form-group">
			<label for="inputPassword1">Password</label>
			<input type="password" class="form-control" id="inputPassword1" name="password" placeholder="Password">
		  </div>
		  
		  <button type="submit" class="btn btn-primary">Submit</button>
		</form>  
	</div>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>

<script>
    console.log(document);
    var form = document.getElementById("login-form");

	
	form.onsubmit = function (e) {
		// stop the regular form submission
		e.preventDefault();
	
		// collect the form data while iterating over the inputs
		var formdata = {};	

		for (var i = 0, ii = form.length; i < ii; ++i) {
			var input = form[i];
			if (input.name) {
				formdata[input.name] = input.value;
			}
		}
		addData(formdata);
	}

    function addData(formdata){
     $.ajax({
             type: "POST",
             url: "http://172.17.26.47:8080/login",
			 //crossDomain: true,
			 //dataType: "plain",
			 data: formdata
			/*beforeSend: function (xhr) {
				xhr.setRequestHeader("Access-Control-Allow-Origin", "*");
				xhr.setRequestHeader("X-Mobile", "false");
			}	*/		 
             //contentType: "application/json; charset=utf-8",
             
             //dataType: "json",

          })
  .always(function(msg) {
    alert( "complete "+msg );
  });
    }
</script>	
	
  </body>
</html>